---
import { ListingItem } from '../components/ListingItem/ListingItem'; // Adjust path if needed
import '../styles/global.css';

const mockListing = {
  name: "Sony PlayStation 5 Console (Disc Edition) - Good Condition",
  image: "https://images.unsplash.com/photo-1606813907291-d86efa9b94db?ixlib=rb-4.0.3&auto=format&fit=crop&w=1352&q=80",
  description: "Selling my PS5 Disc Edition. It's in great condition, comes with one controller, HDMI cable, power cord, and stand. No box included. Have played it for about 6 months, works perfectly. \n\nReason for selling: switching to PC gaming.\n\nPrice is slightly negotiable but low ballers will be ignored. Meet up in downtown area or can ship at buyer's expense.",
  price: 450.00,
  price_predicted: 420.00,
  price_difference: 30.00,
  price_new: 499.99,
  is_illiquid: false,
  is_invalid: false,
  url: "https://example.com/listing/123"
};

const handleUpdateNewPrice = (price) => {
  console.log("New price updated:", price);
  alert(`New price updated to: ${price}`);
};

const handleToggleIlliquid = (value) => {
  console.log("Illiquid toggled:", value);
};

const handleToggleInvalid = (value) => {
  console.log("Invalid toggled:", value);
};
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Listing Item Component Test</title>
	</head>
	<body>
		<div style={{ padding: '20px', minHeight: '100vh', background: '#f1f5f9' }}>
			<h1>Listing Item Component Demo</h1>
			<div style={{ marginTop: '20px' }}>
				<ListingItem 
					client:load 
					listing={mockListing} 
					onUpdateNewPrice={handleUpdateNewPrice}
					onToggleIlliquid={handleToggleIlliquid}
					onToggleInvalid={handleToggleInvalid}
				/>
			</div>
		</div>
	</body>
</html>
